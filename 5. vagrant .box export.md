# ðŸŸ¢ Vagrant Box Export & Import Guide (Production-Ready Go-Todo VM)

## **1ï¸âƒ£ Exporting the Vagrant VM as a Box**

à¦à¦‡ à¦§à¦¾à¦ªà§‡ à¦†à¦®à¦°à¦¾ VM à¦•à§‡ à¦à¦• `.box` à¦«à¦¾à¦‡à¦² à¦¹à¦¿à¦¸à§‡à¦¬à§‡ export à¦•à¦°à¦¬à§‹, à¦¯à¦¾à¦¤à§‡ à¦…à¦¨à§à¦¯ machine-à¦ à¦¸à¦¹à¦œà§‡ import à¦•à¦°à¦¾ à¦¯à¦¾à§Ÿà¥¤

### **Step 1: Install dependencies on host machine**

Export à¦•à¦°à¦¾à¦° à¦œà¦¨à§à¦¯ host machine-à¦ **`virt-sysprep`** à¦¦à¦°à¦•à¦¾à¦°à¥¤ à¦à¦Ÿà¦¿ `libguestfs-tools` package à¦à¦° à¦®à¦§à§à¦¯à§‡ à¦†à¦¸à§‡à¥¤

```bash
sudo apt update
sudo apt install -y libguestfs-tools
```

* à¦¨à¦¿à¦¶à§à¦šà¦¿à¦¤ à¦¹à¦“ à¦¯à§‡ host machine-à¦ **Vagrant** à¦à¦¬à¦‚ **Vagrant-libvirt plugin** à¦‡à¦¨à¦¸à§à¦Ÿà¦² à¦†à¦›à§‡:

```bash
vagrant --version
vagrant plugin list
```

---

### **Step 2: Navigate to the Vagrant project folder**

```bash
cd ~/Desktop/prod-grade-host/docker-base
```

* à¦à¦–à¦¾à¦¨à§‡ `Vagrantfile` à¦à¦¬à¦‚ `.vagrant` folder à¦¥à¦¾à¦•à¦¤à§‡ à¦¹à¦¬à§‡à¥¤

---

### **Step 3: Package the VM**

```bash
vagrant package --output go-todo-vm.box
```

* à¦à¦Ÿà¦¿ VM à¦•à§‡ `.box` à¦«à¦¾à¦‡à¦² à¦¹à¦¿à¦¸à§‡à¦¬à§‡ export à¦•à¦°à¦¬à§‡à¥¤
* à¦¯à¦¦à¦¿ à¦¸à¦¬ à¦ à¦¿à¦• à¦¥à¦¾à¦•à§‡, `.box` à¦«à¦¾à¦‡à¦² à¦¤à§ˆà¦°à¦¿ à¦¹à§Ÿà§‡ à¦¯à¦¾à¦¬à§‡:

```
~/Desktop/prod-grade-host/docker-base/go-todo-vm.box
```

> âš ï¸ Tip: `.box` à¦«à¦¾à¦‡à¦² à¦¬à§œ à¦¹à¦¤à§‡ à¦ªà¦¾à¦°à§‡ (RAM, disk usage à¦…à¦¨à§à¦¯à¦¾à§Ÿà§€ 2-4GB+)

---

## **2ï¸âƒ£ Transfer the Box to Another Machine**

* `.box` à¦«à¦¾à¦‡à¦²à¦Ÿà¦¿ **USB / Pandrive / Network Share** à¦¬à§à¦¯à¦¬à¦¹à¦¾à¦° à¦•à¦°à§‡ à¦…à¦¨à§à¦¯ laptop-à¦ copy à¦•à¦°à§‹à¥¤
* Example path: `/media/usb/go-todo-vm.box`

---

## **3ï¸âƒ£ Importing the Box on Another Machine**

### **Step 1: Add the box to Vagrant**

```bash
vagrant box add go-todo-vm /path/to/go-todo-vm.box
```

* Example:

```bash
vagrant box add go-todo-vm /media/usb/go-todo-vm.box
```

* Successful à¦¹à¦²à§‡ box registered à¦¹à§Ÿà§‡ à¦¯à¦¾à¦¬à§‡:

```
Successfully added box 'go-todo-vm' (v0) for 'libvirt'!
```

---

### **Step 2: Initialize a new Vagrant project**

```bash
mkdir ~/Desktop/go-todo-vm
cd ~/Desktop/go-todo-vm
vagrant init go-todo-vm
```

* à¦à¦Ÿà¦¿ à¦à¦•à¦Ÿà¦¿ à¦¨à¦¤à§à¦¨ `Vagrantfile` à¦¤à§ˆà¦°à¦¿ à¦•à¦°à¦¬à§‡ à¦¯à¦¾ box à¦•à§‡ reference à¦•à¦°à¦¬à§‡à¥¤

---

### **Step 3: Launch the VM**

```bash
vagrant up
```

* VM start à¦¹à¦¬à§‡à¥¤
* Network, CPU, RAM configuration à¦†à¦—à§‡à¦° Vagrantfile à¦…à¦¨à§à¦¯à¦¾à§Ÿà§€ à¦¥à¦¾à¦•à¦¬à§‡à¥¤

---

### **Step 4: SSH into the VM**

```bash
vagrant ssh
```

* à¦à¦–à¦¨ à¦¤à§à¦®à¦¿ VM-à¦à¦° à¦­à¦¿à¦¤à¦°à§‡ à¦¢à§à¦•à¦¤à§‡ à¦ªà¦¾à¦°à¦¬à§‡à¥¤
* à¦¯à§‡à¦•à§‹à¦¨à§‹ container à¦¬à¦¾ project run à¦•à¦°à¦¾à¦° à¦œà¦¨à§à¦¯ à¦†à¦—à§‡à¦° à¦®à¦¤à§‹ commands à¦¬à§à¦¯à¦¬à¦¹à¦¾à¦° à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à§‹:

```bash
cd ~/go-todo-v1
docker-compose up -d --build
```

---

## **âœ… Summary**

* `libguestfs-tools` install à¦¨à¦¾ à¦¥à¦¾à¦•à¦²à§‡ package fail à¦•à¦°à¦¬à§‡à¥¤
* `.box` à¦«à¦¾à¦‡à¦² host à¦¥à§‡à¦•à§‡ export à¦•à¦°à§‡ USB à¦¦à¦¿à§Ÿà§‡ à¦…à¦¨à§à¦¯ machine-à¦ import à¦•à¦°à¦¾ à¦¯à¦¾à§Ÿà¥¤
* Import à¦•à¦°à¦¾à¦° à¦ªà¦° `vagrant init` + `vagrant up` à¦¦à¦¿à§Ÿà§‡ VM readyà¥¤
* à¦¸à¦•à¦² container, network à¦à¦¬à¦‚ Docker setup host-independentà¥¤

---

ðŸ’¡ **Pro Tip:**

* VM export à¦•à¦°à¦¾à¦° à¦†à¦—à§‡ à¦¸à¦¬ container stop à¦•à¦°à¦¾ à¦­à¦¾à¦²à§‹:

```bash
docker-compose down
```

* `.box` à¦«à¦¾à¦‡à¦² update à¦•à¦°à¦¤à§‡ à¦šà¦¾à¦‡à¦²à§‡ à¦ªà§à¦¨à¦°à¦¾à§Ÿ package à¦•à¦°à¦¤à§‡ à¦¹à¦¬à§‡à¥¤

---

docker-compose down => docker halt => vagrant package --output go-todo-vm.box
